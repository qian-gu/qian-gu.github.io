
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://qian-gu.github.io/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark)"
    href="https://qian-gu.github.io/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark)"
          href="https://qian-gu.github.io/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"
          href="https://qian-gu.github.io/theme/pygments/monokai.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="https://qian-gu.github.io/theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="https://qian-gu.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://qian-gu.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://qian-gu.github.io/theme/font-awesome/css/solid.css">

  <link rel="stylesheet" type="text/css" href="/static/custom.css">

  <link rel="shortcut icon" href="https://qian-gu.github.io/images/favicon_64x64.ico" type="image/x-icon">
  <link rel="icon" href="https://qian-gu.github.io/images/favicon_64x64.ico" type="image/x-icon">

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333333">

  <link href="https://qian-gu.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Qian's Blog Atom">


<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48826831-1', 'auto');
  ga('send', 'pageview');
</script>






 

<meta name="author" content="Qian Gu" />
<meta name="description" content="学习使用 Graphviz 画 FSM 的状态转移图" />
<meta name="keywords" content="fsm, graphviz">


  <meta property="og:site_name" content="Qian's Blog"/>
  <meta property="og:title" content="利用 Graphviz 画 FSM 状态图"/>
  <meta property="og:description" content="学习使用 Graphviz 画 FSM 的状态转移图"/>
  <meta property="og:locale" content="en"/>
  <meta property="og:url" content="https://qian-gu.github.io/posts/ic/drawing-fsm-state-diagram-using-graphviz.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2015-01-20 17:55:00+08:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://qian-gu.github.io/author/qian-gu.html">
  <meta property="article:section" content="IC"/>
  <meta property="article:tag" content="fsm"/>
  <meta property="article:tag" content="graphviz"/>
  <meta property="og:image" content="https://qian-gu.github.io/images/logo.png">

  <title>Qian's Blog &ndash; 利用 Graphviz 画 FSM 状态图</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-1821536199377100",
      enable_page_level_ads: true
    });
  </script>

</head>
<body >

<aside>
  <div>
    <a href="https://qian-gu.github.io/">
      <img src="https://qian-gu.github.io/images/logo.png" alt="Qian Gu" title="Qian Gu">
    </a>

    <h1>
      <a href="https://qian-gu.github.io/">Qian Gu</a>
    </h1>

    <p>Read >> Think >> Write</p>

    <div class="stork">
      <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..." onclick="loadStorkIndex()"/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>

    <nav>
      <ul class="list">


            <li>
              <a target="_blank"
                 href="https://qian-gu.github.io/pages/about-me.html#about-me">
                About Me
              </a>
            </li>

      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-envelope"
rel="me"           href="mailto:guqian110@163.com"
           target="_blank">
          <i class="fa-solid fa-envelope"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/qian-gu"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/qian_gu"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
      <li>
        <a class="sc-rss"
           href="/feeds/all.atom.xml"
           target="_blank">
          <i class="fa-solid fa-rss"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="https://qian-gu.github.io/">Home</a>

  <a href="/authors.html">Authors</a>
  <a href="/archives.html">Archives</a>
  <a href="/categories.html">Categories</a>
  <a href="/tags.html">Tags</a>

  <a href="https://qian-gu.github.io/feeds/all.atom.xml">Atom</a>

</nav>

<article class="single">
  <header>
      
    <h1 id="drawing-fsm-state-diagram-using-graphviz">利用 Graphviz 画 FSM 状态图</h1>
    <p>
      Posted on 2015-01-20 17:55 in <a href="https://qian-gu.github.io/category/ic.html">IC</a>

    </p>
    <div class="tag-cloud">
      <p>
        <a href="https://qian-gu.github.io/tag/fsm.html">fsm</a>
        <a href="https://qian-gu.github.io/tag/graphviz.html">graphviz</a>
      </p>
    </div>
  </header>



  <div>
    <h2 id="graphviz">Graphviz</h2>
<hr>
<p>Graphviz 是一个由 AT&amp;T 实验室启动的开源工具包，用于绘制 DOT 语言脚本描述的图形。</p>
<p><a href="http://en.wikipedia.org/wiki/Graphviz">wiki</a>:</p>
<blockquote>
<p>Graphviz (short for Graph Visualization Software) is a package of open-source tools initiated by AT&amp;T Labs Research for drawing graphs specified in DOT language scripts. It also provides libraries for software applications to use the tools. Graphviz is free software licensed under the Eclipse Public License.</p>
</blockquote>
<p>根据介绍，我们知道 Graphviz 基于一种叫做 DOT 的图形描述语言，Graphviz 由一组可以处理 DOT 文件的工具组成，最终生成图形。</p>
<p>既然是画图，那么问题就来了：很多软件都可以画图，<strong>为什么偏偏要用 Graphviz 呢？</strong></p>
<ul>
<li>
<p>Graphviz 的优点：</p>
<ol>
<li>
<p>不用鼠标绘制，也不用手动调整坐标。使用 Visio 或者其他的画图工具的人都体验过手动对齐的不便，而且很多时候手动调整根本就对不齐，强迫症患者心中永远的痛 T-T</p>
</li>
<li>
<p>修改更新方便。手绘的图修改起来很麻烦，而使用 DOT 语言的话，只需要修改脚本就 Ok 了。</p>
</li>
</ol>
</li>
<li>
<p>Graphviz 的缺点：要想用好，需要投入时间和精力去学习使用方法。</p>
</li>
</ul>
<p>Graphviz 可以帮助我们画数据结构图、模块图、流程图等，是程序猿的画图利器。这里我们只用它来画简单的 流程图 / 状态图 ，所以只要有基本的图论知识，不涉及高级主题，所以学习起来是很轻松的。</p>
<p>因为在<a href="http://guqian110.github.io/pages/2015/01/11/how-to-analyse-code-elegantly.html">前面一篇博客</a>中我们已经简单介绍了 <a href="http://www.graphviz.org/">Graphviz</a> 这个工具软件的安装方法，所以下面直接进入正题：<strong>如何使用 Graphviz 画 FSM 的状态转移图。</strong></p>
<p><br></p>
<h2 id="usage">Usage</h2>
<hr>
<p>下面的内容是我精简出来了的最小学习方法，使用方法的详细攻略请看 Graphviz 官网上的 <a href="http://www.graphviz.org/Documentation.php">Documentation</a>。</p>
<h3 id="dot">DOT</h3>
<p>DOT 语法在 <a href="http://www.graphviz.org/Documentation.php">Documentation</a> 里面有介绍，它的定义方法和 C/C++ 中的 <code>struct</code> 类似。由图论的基本知识，我们知道描述一个图，只要用节点（<code>node</code>)、边（<code>edge</code>） 这两个要素就能描述清楚，而 DOT 语言也就是利用这两个信息来描述一个图的。下面用几个基本的例子来说明。</p>
<ol>
<li>
<p><strong>无向图</strong></p>
<p>由 3 个节点组成的一个无向图。
脚本（example1.dot）：</p>
<div class="highlight"><pre><span></span><code>graph example1 {
    node1 -- node2
    node2 -- node3
    node3 -- node4
}
</code></pre></div>

<p>结果：</p>
<p><img alt="example1" src="/images/drawing-fsm-state-diagram-using-graphviz/example1.png"></p>
</li>
<li>
<p><strong>有向图</strong></p>
<p>还是上面的例子，不过修改为有向图。</p>
<p>脚本（example2.dot）：</p>
<div class="highlight"><pre><span></span><code><span class="n">digraph</span><span class="w"> </span><span class="n">example2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">node1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node2</span>
<span class="w">    </span><span class="n">node2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node3</span>
<span class="w">    </span><span class="n">node3</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">nod31</span>
<span class="p">}</span>
</code></pre></div>

<p>结果：</p>
<p><img alt="example2" src="/images/drawing-fsm-state-diagram-using-graphviz/example2.png"></p>
</li>
<li>
<p><strong>添加属性</strong></p>
<p>我们还可以控制 node 的属性（节点形状、颜色、边箭头的形状等），来产生不同的结果。</p>
<p>脚本（example3.dot）：</p>
<div class="highlight"><pre><span></span><code><span class="n">digraph</span><span class="w"> </span><span class="n">example3</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">node1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node2</span>
<span class="w">    </span><span class="n">node2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node3</span>
<span class="w">    </span><span class="n">node3</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node1</span>

<span class="w">    </span><span class="n">node1</span><span class="w"> </span><span class="p">[</span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">circle</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;state1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fillcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#123456&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filled</span><span class="p">]</span>
<span class="w">    </span><span class="n">node2</span><span class="w"> </span><span class="p">[</span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">triangle</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;state2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fillcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#345678&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filled</span><span class="p">]</span>
<span class="w">    </span><span class="n">node3</span><span class="w"> </span><span class="p">[</span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="o">=</span><span class="s">&quot;state3&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fillcolor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;#567890&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unfilled</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>结果：</p>
<p><img alt="example3" src="/images/drawing-fsm-state-diagram-using-graphviz/example3.png"></p>
</li>
<li>
<p><strong>标注</strong></p>
<p>上面的结果和我们的状态转移图相比，还差一点就是转移箭头边上的标注，我们可以在 edge 后面加上 <code>label</code> 属性来标注信息。</p>
<p>脚本（example4.dot）：</p>
<div class="highlight"><pre><span></span><code><span class="n">digraph</span><span class="w"> </span><span class="n">example4</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">node1</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node2</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;condition1&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">node2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node3</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;condition2&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">node3</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">node1</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;condition3&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>结果：</p>
<p><img alt="example4" src="/images/drawing-fsm-state-diagram-using-graphviz/example4.png"></p>
</li>
</ol>
<p>以上的 4 个例子就足够我们画 FSM 的状态转移图了。更加详细的说明参考官方文档和一篇文章：<a href="http://www.openfoundry.org/en/foss-programs/8820-graphviz-">Graphviz - 用指令來畫關係圖吧！</a></p>
<h3 id="command">Command</h3>
<p>Graphviz 的命令格式为</p>
<div class="highlight"><pre><span></span><code><span class="n">cmd</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="p">]</span>
</code></pre></div>

<p>其中，cmd 可以是它包含的几个工具 <code>dot</code>、<code>neato</code>、<code>circo</code>、<code>fdp</code>、<code>osage</code>、<code>sfdp</code>、<code>twopi</code>，我们可以查看 man <cmd> 来看它们的区别，也可以直接运行看结果中的区别。</p>
<p>其中，flags 可以设置相关属性，比如 <code>-Tformat</code>，如果我们需要产生 PNG 图片，那么这里就应该是 <code>-Tpng</code>；再比如 <code>-o</code> 设置输出目的地。</p>
<p>所以我们上面 example1 的命令格式为</p>
<div class="highlight"><pre><span></span><code>dot example1.dot -Tpng -o exampl1.png
</code></pre></div>

<p>example2，example3，exampl4 同理。</p>
<p><br></p>
<h2 id="example">Example</h2>
<hr>
<p>下面是实际程序中的一个例子：</p>
<p>dot 脚本：</p>
<div class="highlight"><pre><span></span><code><span class="n">digraph</span><span class="w"> </span><span class="n">fsm</span><span class="w"> </span><span class="p">{</span><span class="w">                                                               </span>
<span class="w">       </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;d&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;d&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;d&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;e&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;d&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/1&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;e&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;e&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/1&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/1&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;g&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;g&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0/0&quot;</span><span class="p">]</span>
<span class="w">       </span><span class="s">&quot;g&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1/1&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>使用 dot 生成的结果：</p>
<p><img alt="fsm-dot" src="/images/drawing-fsm-state-diagram-using-graphviz/fsm-dot.png"></p>
<p>使用 circo 生成的结果：</p>
<p><img alt="fsm-circo" src="/images/drawing-fsm-state-diagram-using-graphviz/fsm-circo.png"></p>
<h2 id="ref">Ref</h2>
<p><a href="http://www.ibm.com/developerworks/cn/aix/library/au-aix-graphviz/">使用 Graphviz 生成自动化系统图</a></p>
<p><a href="http://www.openfoundry.org/en/foss-programs/8820-graphviz-">Graphviz - 用指令來畫關係圖吧！</a></p>
<p><a href="http://blog.163.com/prevBlogPerma.do?host=lockriver&amp;srl=487232242010101761749383&amp;mode=prev">Graphviz 使用简介 ( 中文乱码的问题 )</a></p>
<p><a href="http://gary-digital.blogspot.com/2006/08/dot.html">使用 DOT 來描述你的狀態機</a></p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="https://qian-gu.github.io/posts/tools/doxygen-cpp-comment-style.html" title="基于 Doxygen 的 C++ 注释风格">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://qian-gu.github.io/posts/ic/doxygen-for-verilog.html" title="针对 Verilog 的 Doxygen">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="https://qian-gu.github.io/posts/ic/fsm-design.html">有限状态机 FSM 设计</a></li>
    </ul>
  </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-1821536199377100"
         data-ad-slot="4843941849"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
var gitalk = new Gitalk({
  clientID: '4b3de26a6e80be727416',
  clientSecret: '993d79339c842fc56d9739ef268f38806dc93f50',
  repo: 'qian-gu.github.io',
  owner: 'qian-gu',
  admin: ['qian-gu'],
  id: location.pathname,
  distractionFreeMode: false
})
gitalk.render('gitalk-container')
</script>
</article>

<footer>
<p>
  &copy; 2023  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://qian-gu.github.io/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="ligtht"
          type="text/javascript">
  </script>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Qian's Blog ",
  "url" : "https://qian-gu.github.io",
  "image": "https://qian-gu.github.io/images/logo.png",
  "description": "Qian's Thoughts and Writings"
}
</script><a href="https://github.com/qian-gu/qian-gu.github.io" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
  <script>
    window.loadStorkIndex = function () {
      stork.initialize("https://qian-gu.github.io/theme/stork/stork.wasm")
      stork.register("sitesearch", "https://qian-gu.github.io/search-index.st", { showProgress: false });
    }
  </script>
  <script src="https://qian-gu.github.io/theme/stork/stork.js"></script>

</body>
</html>